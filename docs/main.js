var c=class{static setP5(t){c._p5=t}static getP5(){return c._p5}},_=c.getP5,a=c;var m,g=class{constructor(t,o){m=a.getP5(),this.position=m.createVector(t,o),this.size=s.CELL_SIZE}update(){}show(){m.fill("red"),m.rect(this.position.x,this.position.y,this.size,this.size)}},E=g;var n,y=class{constructor(){n=a.getP5(),this.rows=s.HEIGHT/s.CELL_SIZE,this.columns=s.WIDTH/s.CELL_SIZE,n.print(`Grid: ${this.rows}x${this.columns}`)}getRandomPosition(){let t=n.floor(n.random(1,this.rows)),o=n.floor(n.random(1,this.columns)),i=t*s.CELL_SIZE,r=o*s.CELL_SIZE;return n.createVector(i,r)}show(){n.fill("white"),n.rect(0,0,s.WIDTH,s.HEIGHT);for(let t=1;t<this.columns;t++){let o=s.CELL_SIZE*t,i=0,r=s.HEIGHT;n.line(o,i,o,r)}for(let t=1;t<this.rows;t++){let o=s.CELL_SIZE*t,i=0,r=s.WIDTH;n.line(i,o,r,o)}}},w=y;var e,I=class{constructor(t,o,i){this.maxFramesToMove=2,e=a.getP5(),this.framesToMove=5,this.speed=s.CELL_SIZE,this.velocity=e.createVector(this.speed,0),this.size=i,this.body=[];for(let r=0;r<this.size;r++){let d=t+r*s.CELL_SIZE,f=e.createVector(d,o);this.body.push(f)}}update(){this.checkInput(),this.updatePosition(),this.checkBoundaries()}getHead(){return this.body[0]}checkInput(){let t=this.velocity.copy();e.keyCode==e.UP_ARROW&&(t=e.createVector(0,-this.speed)),e.keyCode==e.DOWN_ARROW&&(t=e.createVector(0,this.speed)),e.keyCode==e.LEFT_ARROW&&(t=e.createVector(-this.speed,0)),e.keyCode==e.RIGHT_ARROW&&(t=e.createVector(this.speed,0)),!(-t.x==this.velocity.x||-t.y==this.velocity.y)&&(this.velocity=t)}updatePosition(){if(e.frameCount%this.framesToMove==0){let t=this.getHead().copy().add(this.velocity);this.body.length!=this.size||this.body.pop(),this.body.unshift(t)}}checkBoundaries(){let t=this.getHead();if(t.x==s.WIDTH){t.x=0;return}if(t.y==s.HEIGHT){t.y=0;return}if(t.x<0){t.x=s.WIDTH-s.CELL_SIZE;return}if(t.y<0){t.y=s.HEIGHT-s.CELL_SIZE;return}}grow(){this.size++,this.framesToMove>this.maxFramesToMove&&this.framesToMove--}show(){e.fill("green");for(let t=0;t<this.body.length;t++){let{x:o,y:i}=this.body[t];e.rect(o,i,s.CELL_SIZE,s.CELL_SIZE)}}},k=I;var l,p=class{constructor(){this._logX=15,l=a.getP5(),this.grid=new w,this.spawnSnake(),this.spawnFood()}spawnSnake(){let{x:t,y:o}=this.grid.getRandomPosition(),i=3;this.snake=new k(t,o,i)}spawnFood(){let{x:t,y:o}=this.snake.getHead(),i,r,d,f=1;do if({x:i,y:r}=this.grid.getRandomPosition(),d=i==t&&r==o,f++,f>100)throw new Error("The food is in the way! Too much recursion.");while(d);this.food=new E(i,r)}snakeIsEating(){let{x:t,y:o}=this.snake.getHead(),{x:i,y:r}=this.food.position;return l.dist(t,o,i,r)==0}update(){this.snake.update(),this.snakeIsEating()&&(this.snake.grow(),this.spawnFood())}show(){this._logY=this._logX,l.background(220),this.grid.show(),this.snake.show(),this.food.show()}print(t){l.fill("black"),l.text(t,this._logX,this._logY),this._logY+=this._logY}};p.WIDTH=500;p.HEIGHT=500;p.CELL_SIZE=25;var s=p;var u,L=h=>{h.setup=()=>{a.setP5(h),h.createCanvas(s.WIDTH,s.HEIGHT),h.background(220),u=new s},h.draw=()=>{u.update(),u.show()}};new p5(L);console.log("main");
//# sourceMappingURL=main.js.map
